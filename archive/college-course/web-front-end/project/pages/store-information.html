<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Store Information</title>
    <link rel="stylesheet" href="../styles/base.css" />
    <link rel="stylesheet" href="../styles/store-information.css" />
    <script src="../scripts/jquery-3.6.1.min.js"></script>
  </head>
  <body>
    <div id="content">
      <div id="title">百滋百特</div>
      <div id="info-items">
        <!-- item -->
        <div class="info-item">
          <p>重庆/龙湖时代天街店—重庆市渝中区龙湖时代天街购物广场C馆L1-55B</p>
          <img class="info-img" src="../images/thumb.png" alt="" />
          <div class="img-counter"></div>
        </div>
        <!-- 点，配合蓝色长条 div 占位-->
        <img class="item-decoration" src="../images/item.png" alt="" />
        <!-- 蓝色长条 div，同时实现占位作用 -->
        <div class="item-line item-line-l"></div>
        <div class="info-item">
          <p>重庆/协信星光天地店—重庆市渝中区大坪协信星光天地商场L4-017/018</p>
          <img class="info-img" src="../images/主题服务.png" alt="" />
          <div class="img-counter"></div>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-l"></div>
        <div class="info-item">
          <p class="info-item-title">浙江省</p>
          <p>浙江省 杭州/吴山总店—杭州市延安南路10号（吴山广场）</p>
          <p>杭州/文三店——杭州市文三路463号（东方通信大厦对面）</p>
          <p>宁波/北仑店——宁波市北仑区新契银泰城（泰山路中河路交叉口）</p>
          <p>宁波/天一广场店—宁波市天一广场右营巷43号</p>
          <p>湖州/人民广场店—苕溪西路57号（人民广场公交站）</p>
          <p>绍兴/诸暨店——暨阳路272号（浣江路中学对面）</p>
          <p>绍兴/诸暨店——诸暨市东兴路117号（大润发对面）</p>
          <p>嘉兴/嘉兴店——中港城沃尔玛出口处南</p>
          <p>义务/义乌店——绣湖西路11号 金华/金华店——金华解放东路450号</p>
          <p>金华/金华二店—金华市兰溪街111号</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-l"></div>
        <div class="info-item">
          <p class="info-item-title">山西省</p>
          <p>太原/北美新天地店—太原市长风街长治路口北美新天地4楼F443</p>
          <p>太原/美都汇店——太原市小店区康宁街美都汇二层</p>
          <p>太原/富百家店——太原市富百家购物中心北门</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-m"></div>
        <div class="info-item">
          <p class="info-item-title">广东省</p>
          <p>潮州/潮州店——潮州市环城西路新桥花园1号</p>
          <p>潮州/潮州2店—潮州市枫溪瓷兴路路头（怀德市场斜对面）</p>
          <p>潮州/奎元店——潮州市奎元实验学校斜对面</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-s"></div>
        <div class="info-item">
          <p class="info-item-title">江苏省</p>
          <p>常州/常州店——常州市钟楼区莱蒙都会商业街5-106/107号</p>
          <p>张家港/购物公园店—张家港市购物公园沃尔玛一楼南门口处</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-s"></div>
        <div class="info-item">
          <p class="info-item-title">河南省</p>
          <p>开封/御街口店——开封市西大街1号（宋都御街口/大商斜对面）</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-s"></div>
        <div class="info-item">
          <p class="info-item-title">湖北省</p>
          <p>武汉/光谷天地店——武汉市东湖高新区关山大道光谷天地029号</p>
          <p>赤壁/赤壁店——赤壁市家联超市后门旁右侧</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-s"></div>
        <div class="info-item">
          <p class="info-item-title">福建省</p>
          <p>厦门/集美万达店——厦门市集美区银江路137号集美万达金街56号</p>
          <p>泉州/晋江店——晋江市青阳湖光西路东岩苑1幢90-92号</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-s"></div>
        <div class="info-item">
          <p class="info-item-title">甘肃省</p>
          <p>兰州/兰州店——兰州市安宁区金牛街（西北师范大学斜对面）</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-s"></div>
        <div class="info-item">
          <p class="info-item-title">内蒙古</p>
          <p>集宁/内蒙古集宁店—内蒙古乌兰察布市集宁区奥威购物广场5楼</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
        <div class="item-line item-line-s"></div>
        <div class="info-item">
          <p class="info-item-title">沙特阿拉伯</p>
          <p>沙特阿拉伯/利雅得——名品街店</p>
        </div>
        <img class="item-decoration" src="../images/item.png" alt="" />
      </div>
      <div id="img-viewer">
        <img id="img-viewer-content" src="" alt="" />
        <img id="previous-img" src="../images/previous.png" alt="" />
        <img id="next-img" src="../images/next.png" alt="" />
        <img id="close-img" src="../images/close.png" alt="" />
      </div>
    </div>
    <script>
      $(function () {
        // 给每张图片添加次序信息
        let imgsCount = $('.info-img').length
        $('.img-counter').each(function (index, elem) {
          elem.textContent = index + 1 + '/' + imgsCount
        })

        // 把每张图片存在数组中
        let imgs = new Array()
        $('.info-img').each(function (index, elem) {
          imgs.push(elem.getAttribute('src'))
        })

        $('.info-img').hover(
          function () {
            $(this).siblings('.img-counter').show()
          },
          function () {
            $(this).siblings('.img-counter').hide()
          }
        )

        // 图片点击
        $('.info-img').click(function () {
          $('#img-viewer-content').attr({ src: $(this).attr('src') })
          $('#img-viewer')
            .attr({ index: imgs.indexOf($(this).attr('src')) })
            .show()
        })

        $('#previous-img').click(function () {
          let index = parseInt($('#img-viewer').attr('index'))
          if (index === 0) {
            index = imgsCount - 1
          } else {
            index--
          }
          $('#img-viewer').attr({ index: index })
          $('#img-viewer-content').attr({ src: imgs[index] })
        })

        $('#next-img').click(function () {
          let index = parseInt($('#img-viewer').attr('index'))
          if (index === imgsCount - 1) {
            index = 0
          } else {
            index++
          }
          $('#img-viewer').attr({ index: index })
          $('#img-viewer-content').attr({ src: imgs[index] })
        })

        $('#close-img').click(function () {
          $('#img-viewer').hide()
        })
      })
    </script>
  </body>
</html>
